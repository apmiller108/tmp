.c-blob{data: { controller: :blob }}
  %figure{class:  "attachment attachment--#{representable? ? 'preview' : 'file'} attachment--#{filename.extension}"}
    - if audio?
      .audio-player.d-flex
        %div
          %audio{controls: true, preload: :metadata, width: "100%", data: { 'blob-target' => :audio }}
            %source{src: url, type: content_type}
          = fig_caption
        .audio-menu.dropend
          %button.btn.btn-primary.dropdown-toggle{ type: :button, data: { 'bs-toggle' => :dropdown }, 'aria-expanded' => false }
            %i.bi-file-text.fs-2.p-pulse
          %ul.dropdown-menu.py-2
            %li
              %a.dropdown-item{ href: '#' }= t('transcribe')
              %a.dropdown-item{ href: '#' }= t('transcribe_and_summarize')

    - elsif representable?
      = image_tag representation(resize_to_limit: resize_to_limit)
      = fig_caption
