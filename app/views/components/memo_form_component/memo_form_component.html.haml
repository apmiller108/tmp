= tag.turbo_frame(id: id, class: 'c-memo-form') do
  = form_with model: [current_user, memo], data: { controller: 'memo-form' } do |form|
    - if memo.errors.any?
      .form-errors
        %ul
          - memo.errors.each do |e|
            %li= e.full_message
    .grid
      .g-col-10
        = form.label :title, class: 'form-label'
        = form.text_field :title, class: 'form-control'
      .g-col-2.d-flex.justify-content-between.align-items-end
        = render ColorPickerComponent.new(swatches:, default_color:, **color_picker_options)
        %button.btn.btn-primary.icon-btn{type: :submit, name: :commit, data: { action: 'click->memo-form#onSubmit:prevent' } }
          %i.bi.bi-floppy-fill.text-white
        - if memo.persisted?
          = link_to user_memo_path(current_user, memo), class: 'btn btn-secondary icon-btn' do
            %i.bi.bi-x-lg.text-white
        - else
          %button.btn.btn-secondary.icon-btn.flex-grow-0{data: { controller: 'modal-closer' }}
            %i.bi.bi-x-lg.text-white
    %div.mt-3
      = render WysiwygEditorComponent.new(object: memo, method: :content)

