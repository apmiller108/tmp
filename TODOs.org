:PROPERTIES:
:CATEGORY: tmp
:END:
* DONE Build claude adapter
  CLOSED: [2024-04-08 Mon 20:57]
* DONE Setup presets
  CLOSED: [2024-04-08 Mon 20:57]
  https://docs.anthropic.com/claude/prompt-library
* DONE Add preset drop down to form [2/2]
  CLOSED: [2024-04-11 Thu 21:12]
  - [X] Add preset drop down
  - [X] Add temperature drop down 0 - 1 increments of 0.1
    Set the temp based on the preset
* DONE Wire up the claude adapter [4/4]
CLOSED: [2024-04-12 Fri 14:43]
  - [X] Add temperature column float to generate_text_requests
  - [X] Rename GenerativeTextPreset to GenerateTextPreset
  - [X] Add optional reference to generate_text_preset
  - [X] Use Claude Client in generate_text_job. Pass in temperature and system message.
* DONE auto set temp when selecting a preset
  CLOSED: [2024-04-13 Sat 09:00]
* DONE Do not delete prompt on sending request [2/2]
CLOSED: [2024-04-18 Thu 14:07]
  - [X] for text
  - [X] for images
* DONE Move generative text placeholder out of input field into header [2/2]
CLOSED: [2024-04-18 Thu 14:07]
  - [X] for text
  - [X] for images
* DONE Insert generated text into a quote block
CLOSED: [2024-04-19 Fri 11:44]
* DONE Show flash message on failure of gen text
CLOSED: [2024-04-19 Fri 14:02]
* TODO Associate a conversation to a Memo
  Persist dialogue between use the LLM
  conversations
    memo_id
    exchange:jsonb

  1. [X] Create Conversation endpoint with create action POST /memos//:id/conversations
  2. [X] Add index generate text request text_id
  3. [X] On successful generate text response, client makes call to create or update
     conversation. Passes the text_id and memo_id.
  4. [X] If memo has conversation, update it; otherwise create a new conversation.

  5. [X] Add the memo's conversation.id to the generate text form
  6. [X] Send conversation.id when client submits generate text request
  7. [ ] If the conversation exists, prepend it to the client API request.
* TODO Auto save memo after text or image generated, but before emitting the insert events
  Creating or updating a conversation requires a persisted memo
* TODO Submit previous dialog with each generative text request
* TODO Broadcast MemoCardComponent from comp stats job
