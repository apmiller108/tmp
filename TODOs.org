:PROPERTIES:
:CATEGORY: tmp
:END:
* DONE Build claude adapter
  CLOSED: [2024-04-08 Mon 20:57]
* DONE Setup presets
  CLOSED: [2024-04-08 Mon 20:57]
  https://docs.anthropic.com/claude/prompt-library
* DONE Add preset drop down to form [2/2]
  CLOSED: [2024-04-11 Thu 21:12]
  - [X] Add preset drop down
  - [X] Add temperature drop down 0 - 1 increments of 0.1
    Set the temp based on the preset
* DONE Wire up the claude adapter [4/4]
CLOSED: [2024-04-12 Fri 14:43]
  - [X] Add temperature column float to generate_text_requests
  - [X] Rename GenerativeTextPreset to GenerateTextPreset
  - [X] Add optional reference to generate_text_preset
  - [X] Use Claude Client in generate_text_job. Pass in temperature and system message.
* DONE auto set temp when selecting a preset
  CLOSED: [2024-04-13 Sat 09:00]
* DONE Do not delete prompt on sending request [2/2]
CLOSED: [2024-04-18 Thu 14:07]
  - [X] for text
  - [X] for images
* DONE Move generative text placeholder out of input field into header [2/2]
CLOSED: [2024-04-18 Thu 14:07]
  - [X] for text
  - [X] for images
* DONE Insert generated text into a quote block
CLOSED: [2024-04-19 Fri 11:44]
* DONE Show flash message on failure of gen text
CLOSED: [2024-04-19 Fri 14:02]
* DONE Associate a conversation to a Memo [8/8]
CLOSED: [2024-04-26 Fri 13:46]
  Persist dialogue between use the LLM
  conversations
    memo_id
    exchange:jsonb

  1. [X] Create Conversation endpoint with create action POST /memos//:id/conversations
  2. [X] Add index generate text request text_id
  3. [X] On successful generate text response, client makes call to create or update
     conversation. Passes the text_id and memo_id.
  4. [X] If memo has conversation, update it; otherwise create a new conversation.

  5. [X] Add the memo's conversation.id to the generate text form
  6. [X] Send conversation.id when client submits generate text request
  7. [X] Generate image request belongs to a conversation optionally
  8. [X] Include the conversation_id in the generate_text_request params
* DONE Submit previous dialog with each generative text request
CLOSED: [2024-04-26 Fri 16:20]
* TODO Auto save memo after or before text or image generated, but before saving the conversation [/]
  Creating or updating a conversation requires a persisted memo
  - [ ] Add JSON format to MemosController#update/create action OR new autosave
    action? Will need to broadcast the memo card component.
  - [ ] Add functions to update/create memo to http.js
  - [ ] Synchronously create the memo before creating the conversation. I think
    the update could be async.
* TODO Broadcast MemoCardComponent from comp stats job
